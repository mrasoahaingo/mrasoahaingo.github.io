webpackJsonp([1],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(18),u=(r(i),n(56)),a=n(91),s=r(a);(0,u.render)({$$typeof:o,type:s.default,key:null,ref:null,props:l(s.default.defaultProps,{}),_owner:null},document.querySelector("#app"))},91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,l=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(a){l=!0,o=a}finally{try{!r&&u.return&&u.return()}finally{if(l)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e,t,n){for(var r=!0;r;){var l=e,o=t,i=n;r=!1,null===l&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,o);if(void 0!==u){if("value"in u)return u.value;var a=u.get;if(void 0===a)return;return a.call(i)}var s=Object.getPrototypeOf(l);if(null===s)return;e=s,t=o,n=i,r=!0,u=s=void 0}},c=n(18),p=r(c),y=n(93),d=r(y),h=n(103),v=n(96),m=r(v),w=n(98),b=r(w),_=n(92);n(94);var g=[37,38,39,40],k=g[0],$=g[1],S=g[2],T=g[3],N={2:k,8:$,4:S,16:T},O={stiffness:300,damping:28},P={$$typeof:a,type:"div",key:null,ref:null,props:{className:"game__layer"},_owner:null},M={$$typeof:a,type:"div",key:null,ref:null,props:{children:{$$typeof:a,type:"span",key:null,ref:null,props:{children:"YOU WIN"},_owner:null},className:"game__win"},_owner:null},j=function(e){function t(e){o(this,t),f(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state=this.getGameState(e),this.rotateGame=this.rotateGame.bind(this),this.moveTile=this.moveTile.bind(this),this.shuffle=this.shuffle.bind(this),this.changeTileNumber=this.changeTileNumber.bind(this),this.swipe=this.swipe.bind(this)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.moveTile),document.addEventListener("mousemove",this.rotateGame)}},{key:"rotateGame",value:function(e){var t=e.layerX||e.offsetX,n=e.layerY||e.offsetY,r=-(window.innerWidth/2-t)/35,l=(window.innerHeight/2-n)/25;this.gameTiles.style.transform="rotateY("+r+"deg) rotateX("+l+"deg)"}},{key:"getGameState",value:function(e){var t=e.tileNumber,n=e.tileSize,r=Math.pow(t,2);return{tileSize:n,tileNumber:t,tileTotal:r,layout:m.default.range(r).map(function(e){var r=Math.floor(e/t),l=e%t;return[n*l,n*r]}),order:m.default.range(1,r+1),win:!1,isTouch:(0,_.isTouchDevice)()}}},{key:"shuffle",value:function(){this.recursiveShuffle(m.default.shuffle(g),1)}},{key:"recursiveShuffle",value:function(e,t){var n=this,r=m.default.take(e,3);m.default.forEach(r,function(e){return n.moveTile({keyCode:e})}),100>t&&this.recursiveShuffle(m.default.shuffle(g),t+1)}},{key:"changeTileNumber",value:function(e){var t=this.state.tileSize,n=parseInt(e.currentTarget.value,10),r=this.getGameState({tileNumber:n,tileSize:t});n>1&&this.setState(r)}},{key:"swipe",value:function(e){var t=e.direction,n=N[t];n&&this.moveTile({keyCode:n})}},{key:"moveTile",value:function(e){var t=e.keyCode,n=this.state,r=n.order,l=n.tileNumber,o=n.tileTotal,i=r.indexOf(o),u=-1;switch(t){case k:l-1>i%l&&(u=i+1);break;case $:u=i+l;break;case S:i%l>0&&(u=i-1);break;case T:u=i-l}if(!(0>u||u>=o)){var a=(0,_.swap)(r,u,i),s=(0,_.checkWin)(a);this.setState({order:a,win:s})}}},{key:"getKeyPos",value:function(e){var t=this.state,n=t.order,r=t.layout,l=n.indexOf(e);return r[l]}},{key:"render",value:function(){var e=this,t=this.state,n=t.win,r=t.order,o=t.tileNumber,i=t.tileTotal,s=t.tileSize,f=t.isTouch,c=(0,d.default)("game__container",{"game__container--win":n});return{$$typeof:a,type:"section",key:null,ref:null,props:{children:[{$$typeof:a,type:"header",key:null,ref:null,props:{children:[{$$typeof:a,type:"button",key:null,ref:null,props:{children:"Reset",type:"button",onClick:this.shuffle},_owner:null},{$$typeof:a,type:"label",key:null,ref:null,props:{children:["Size:",{$$typeof:a,type:"input",key:null,ref:null,props:{type:"number",size:"2",onChange:this.changeTileNumber,onKeyDown:function(e){return e.stopPropagation()},defaultValue:o},_owner:null}]},_owner:null}],className:"game__actions"},_owner:null},f&&{$$typeof:a,type:b.default,key:null,ref:null,props:l(b.default.defaultProps,{children:P,onSwipe:this.swipe,vertical:!0}),_owner:null},{$$typeof:a,type:"section",key:null,ref:null,props:{children:p.default.createElement("div",{className:"game__platform",ref:function(t){return e.gameTiles=t}},{$$typeof:a,type:"div",key:null,ref:null,props:{children:r.map(function(t){var n={$$typeof:a,type:"div",key:null,ref:null,props:{children:{$$typeof:a,type:"span",key:null,ref:null,props:{children:t,className:"tile__text"},_owner:null},className:"tile"},_owner:null},r=e.getKeyPos(t),o=u(r,2),f=o[0],c=o[1],p={translateX:(0,h.spring)(f,O),translateY:(0,h.spring)(c,O)};return{$$typeof:a,type:h.Motion,key:t,ref:null,props:l(h.Motion.defaultProps,{children:function(e){var r=e.translateX,l=e.translateY;e.display,e.width,e.height;return{$$typeof:a,type:"div",key:null,ref:null,props:{children:n,className:"game__tile",style:{display:t===i?"none":"block",width:s,height:s,transform:"translate3d("+r+"px, "+l+"px, 0)"}},_owner:null}},style:p}),_owner:null}}),className:"game__tiles",style:{width:s*o,height:s*o}},_owner:null},M),className:c},_owner:null}],className:"game"},_owner:null}}}]),t}(c.Component);j.defaultProps={tileSize:60,tileNumber:4},t.default=j,e.exports=t.default},92:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0};t.isTouchDevice=n;var r=function(e,t,n){var r=e[n];return e[n]=e[t],e[t]=r,e};t.swap=r;var l=function(e){return _.every(e,function(e,t,n){return 0===t||n[t-1]<e})};t.checkWin=l},94:function(e,t){}});
//# sourceMappingURL=app.js.map